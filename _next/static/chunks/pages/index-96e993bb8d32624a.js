(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(93298)}])},93298:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var r=n(85893),a=n(9008),l=n.n(a),s=n(31502),i=n.n(s),o=n(15861),c=n(67294),u=n(34713),d=n(49857);let h=new d._k({});var m=n(83321);let x=e=>{let{children:t}=e,{active:n,activate:a,account:l}=(0,u.Ge)(),s=()=>{a(h,void 0,!0).catch(e=>{console.error(e)})};return n?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(m.Z,{variant:"contained",onClick:()=>s(),children:"Connect"})};var p=n(87357),f=n(62225);let j=(0,c.createContext)({alert:null,setAlert:e=>{}}),b=()=>(0,c.useContext)(j),g=e=>{let{setFormConfigs:t,setAbi:n,setAddress:a}=e,[l,s]=(0,c.useState)(""),[i,o]=(0,c.useState)(""),{setAlert:u}=b(),d=e=>{let r;try{if(console.log("submitting"),!(r=JSON.parse(i))||!r.length)return u({type:"error",text:"Invalid ABI, make sure it is JSON array"})}catch(s){return console.log("contractABI err",s),u({type:"error",text:"Invalid ABI, make sure it is JSON array"})}console.log("abi",r);let o=[];for(let c of(n(r),a(l),r)){if("function"!==c.type)continue;let{inputs:d,name:h,stateMutability:m}=c;o.push({type:"Title",label:h}),d&&d.forEach(e=>{o.push(function(e,t){let{internalType:n,name:r,type:a}=t;switch(a){case"uint256":case"address":case"string":case"bytes":case"bytes32":return{type:"TextInput",name:"".concat(e,"-").concat(r),label:r,inputType:"text",helperText:"".concat(n," - ").concat(a)};case"address[]":case"bytes[]":return{type:"TextInput",name:"".concat(e,"-").concat(r),label:r,inputType:"text",helperText:"".concat(n," - ").concat(a," comma separated")};case"bool":return{type:"Checkbox",name:"".concat(e,"-").concat(r),label:r};default:return{type:"Title",label:"unsupported input ".concat(e,"-").concat(r," type ").concat(n)}}}(h,e))}),"view"===m?o.push({type:"SubmitButton",label:"Read",stateMutability:m,name:h}):o.push({type:"SubmitButton",label:"Write",stateMutability:m,name:h})}console.log("formConfigs",o),t(o)};return(0,r.jsxs)(f.WS,{onSubmit:d,children:[(0,r.jsx)(p.Z,{sx:{width:1e3},children:(0,r.jsx)(f.bM,{fullWidth:!0,name:"contractAddress",label:"Contract Address",value:l,onChange:e=>s(e.target.value),validators:["required","matchRegexp:^0x[0-9a-fA-F]{40}$"],errorMessages:["This field is required","Invalid contract address"]})}),(0,r.jsx)("br",{}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(f.bM,{fullWidth:!0,name:"contractAbi",label:"Contract ABI",value:i,onChange:e=>o(e.target.value),validators:["required"],errorMessages:["This field is required"],multiline:!0,rows:10})}),(0,r.jsx)(p.Z,{sx:{padding:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(m.Z,{type:"submit",disabled:!i,variant:"contained",children:"Update ABI"})})]})};var _=n(3283),v=n.n(_),y=n(85071),C=n(50480),Z=n(33841),w=n(42662),S=n(55819),I=n(10913),T=n(56815);class A extends f.nE{renderValidatorComponent(){let{isValid:e}=this.state,{errorMessages:t,name:n,label:a,onChange:l,validators:s,options:i,helperText:o,requiredError:c,error:u,validatorListener:d,value:h="",...m}=this.props,x=!e&&this.getErrorMessage()||o;return(0,r.jsx)(p.Z,{children:(0,r.jsxs)(I.Z,{fullWidth:!0,children:[(0,r.jsx)(Z.Z,{sx:{color:e?"inherit":"error.main"},children:a}),(0,r.jsx)(w.Z,{value:h,name:n,label:a,onChange:l,error:!e||u,children:i.map(e=>(0,r.jsx)(S.Z,{value:e.value,children:e.label},e.value))}),x&&(0,r.jsx)(T.Z,{sx:{color:e?"inherit":"error.main"},children:x})]})})}render(){return super.render()}}let M=e=>{let{abi:t,contractAddress:n,formConfigs:a,setFormConfigs:l}=e,[s,i]=(0,c.useState)({}),{account:d,library:h}=(0,u.Ge)(),{setAlert:x}=b(),j=async e=>{let r=e.nativeEvent.submitter.getAttribute("name");console.log("submitter method",r);let i=new(v())(h.provider),o=new i.eth.Contract(t,n),c=a.splice(0),u=c.find(e=>e.name===r);if(!u){console.error("cannot find formConfig for ".concat(r));return}let m=o.methods[r];if("view"===u.stateMutability)try{let p=await m().call();console.log("call res",p),u.result=p}catch(f){console.error(f),x({type:"error",title:"Call failed",text:"".concat(f.toString())})}else{console.log("calling write method",u),console.log("formValues",s);let j=function(e){let{formValues:t,abi:n,methodName:r}=e;for(let a of n)if(a.name===r){let{inputs:l}=a;if(!l)return[];return l.map(e=>{let n=t["".concat(r,"-").concat(e.name)];return e.type.match(/\[\]$/)?n.split(","):n})}return[]}({methodName:r,abi:t,formValues:s});console.log("write call params",j);try{let b=await m(...j).estimateGas({from:d});console.log("estimateGas result",b),await m(...j).send({from:d})}catch(g){console.log("estimateGas failure",g),x({type:"error",title:"Call failed",text:"".concat(g.toString())})}}l(c)},g=a.map((e,t)=>(0,r.jsx)(p.Z,{sx:{margin:2,paddingBottom:2},children:function(e,t,n){let a=(e,r)=>{n({...t,[e]:r})},{type:l}=e;switch(l){case"FormGroup":{let{columns:s}=e,i=s.map(e=>{let{name:n,validators:l,errorMessages:s,xs:i=6,md:o=6,lg:c,...u}=e;return(0,r.jsx)(f.bM,{fullWidth:!0,...u,name:n,label:e.label,value:t[n],onChange:e=>a(n,e.target.value),validators:l,errorMessages:s})});return i}case"TextInput":{let{name:c,validators:u,errorMessages:d,inputType:h,xs:x=6,md:j=6,lg:b,...g}=e;return(0,r.jsx)(f.bM,{fullWidth:!0,...g,name:c,type:h,label:e.label,value:t[c],onChange:e=>a(c,e.target.value),validators:u,errorMessages:d})}case"Checkbox":{let{name:_,label:v}=e,Z=(0,r.jsx)(y.Z,{inputProps:{"aria-label":v},name:_,checked:!!t[_],onChange:e=>a(_,!t[_])});return(0,r.jsx)(C.Z,{control:Z,label:_})}case"Select":{let{name:w,label:S,options:I,validators:T,errorMessages:M}=e;return(0,r.jsx)(A,{value:t[w],name:w,label:S,options:I,validators:T,errorMessages:M,onChange:e=>a(w,e.target.value)})}case"Title":return(0,r.jsx)(o.Z,{variant:"h6",component:"h2",children:e.label});case"SubmitButton":let{variant:k,name:B,result:E}=e;return(0,r.jsxs)(p.Z,{children:[E&&(0,r.jsx)("pre",{children:E}),(0,r.jsx)(m.Z,{name:B,type:"submit",variant:k,children:e.label})]})}}(e,s,i)},e.type+e.label+t));return(0,r.jsx)(f.WS,{onSubmit:j,children:g})};var k=n(46562);let B=e=>{let t=new k.Q(e);return t.pollingInterval=1e3,t},E=e=>{let{children:t}=e;return(0,r.jsx)(u.Ht,{getLibrary:B,children:t})},H=()=>{let{chainId:e,account:t}=(0,u.Ge)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.Z,{children:["chainId: ",e]}),(0,r.jsxs)(p.Z,{children:["account: ",t]})]})};var N=n(16628),G=function(e){let{children:t,stayMs:n=5e3,onClose:a}=e,[l,s]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{setTimeout(()=>{s(!0)},200)},[]),t)?(0,r.jsx)(N.Z,{in:l,timeout:{enter:1e3,exit:1e3},addEndListener:()=>{setTimeout(()=>{s(!1),a()},n)},children:(0,r.jsx)(p.Z,{children:t})}):(console.error("invalid children for TransitionAlert"),null)},W=n(92401),F=n(15568),L=function(e){let{icon:t,title:n,children:a}=e;return(0,r.jsxs)(F.Z,{severity:"success",icon:t,children:[n&&(0,r.jsx)(W.Z,{children:n}),a]})},O=function(e){let{title:t,children:n}=e;return(0,r.jsxs)(F.Z,{severity:"error",variant:"standard",className:"alert",children:[(0,r.jsx)(W.Z,{children:t}),n]})},P=n(33072),q=n.n(P);let V=e=>{let{children:t}=e,[n,a]=(0,c.useState)(null);return(0,r.jsxs)(j.Provider,{value:{alert:n,setAlert:a},children:[t,n&&(0,r.jsx)(p.Z,{className:q().alertBar,children:(0,r.jsx)(G,{stayMs:15e3,onClose:()=>a(null),children:"success"===n.type?(0,r.jsx)(L,{title:n.title,children:n.text}):(0,r.jsx)(O,{title:n.title,children:n.text})})})]})};function X(){let[e,t]=(0,c.useState)(""),[n,a]=(0,c.useState)([]),[s,u]=(0,c.useState)([]);return(0,r.jsxs)(V,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Call any contract with ABI"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("main",{className:i().main,children:[(0,r.jsx)(o.Z,{variant:"h4",component:"h2",children:"Call any Solidity EVM contract with ABI"}),(0,r.jsxs)(o.Z,{variant:"body1",component:"h2",children:["Supports all EVM compatible chains ",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:"This tool is beta, use at your own risk"})]}),(0,r.jsx)(E,{children:(0,r.jsxs)(x,{children:[(0,r.jsx)(H,{}),(0,r.jsx)(g,{setAbi:u,setAddress:t,setFormConfigs:a}),(0,r.jsx)(M,{abi:s,contractAddress:e,formConfigs:n,setFormConfigs:a})]})})]})]})}},33072:function(e){e.exports={alertBar:"alertBar_alertBar__7grMj"}},31502:function(e){e.exports={main:"Home_main__nLjiQ",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",center:"Home_center__4BFgC",logo:"Home_logo__27_tb",thirteen:"Home_thirteen__cMI_k",rotate:"Home_rotate____XsI",content:"Home_content__Zy02X",vercelLogo:"Home_vercelLogo__dtSk9"}},88677:function(){},62808:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},27790:function(){},52361:function(){},94616:function(){},6567:function(){},55896:function(){},87500:function(){}},function(e){e.O(0,[482,714,574,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);