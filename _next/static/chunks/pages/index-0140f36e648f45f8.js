(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(614)}])},47937:function(e,t,n){"use strict";var r=n(67294);let a=(0,r.createContext)({alert:null,setAlert:e=>{}});t.Z=a},87557:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(85893),a=n(67294),l=n(16628),s=n(87357),i=function(e){let{children:t,stayMs:n=5e3,onClose:i}=e,[o,c]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{setTimeout(()=>{c(!0)},200)},[]),t)?(0,r.jsx)(l.Z,{in:o,timeout:{enter:1e3,exit:1e3},addEndListener:()=>{setTimeout(()=>{c(!1),i()},n)},children:(0,r.jsx)(s.Z,{children:t})}):(console.error("invalid children for TransitionAlert"),null)},o=n(92401),c=n(15568),u=function(e){let{icon:t,title:n,children:a}=e;return(0,r.jsxs)(c.Z,{severity:"success",icon:t,children:[n&&(0,r.jsx)(o.Z,{children:n}),a]})},d=function(e){let{title:t,children:n}=e;return(0,r.jsxs)(c.Z,{severity:"error",variant:"standard",className:"alert",children:[(0,r.jsx)(o.Z,{children:t}),n]})},h=n(47937),x=n(33072),m=n.n(x);let p=e=>{let{children:t}=e,[n,l]=(0,a.useState)(null);return(0,r.jsxs)(h.Z.Provider,{value:{alert:n,setAlert:l},children:[t,n&&(0,r.jsx)(s.Z,{className:m().alertBar,children:(0,r.jsx)(i,{stayMs:15e3,onClose:()=>l(null),children:"success"===n.type?(0,r.jsx)(u,{title:n.title,children:n.text}):(0,r.jsx)(d,{title:n.title,children:n.text})})})]})};var f=p},614:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var r,a,l=n(85893),s=n(9008),i=n.n(s),o=n(31502),c=n.n(o),u=n(15861),d=n(67294),h=n(34713),x=n(49857);let m=new x._k({});var p=n(83321);let f=e=>{let{children:t}=e,{active:n,activate:r,account:a}=(0,h.Ge)(),s=()=>{r(m,void 0,!0).catch(e=>{console.error(e)})};return n?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsx)(p.Z,{variant:"contained",onClick:()=>s(),children:"Connect"})};var g=n(87357),j=n(62225),b=n(47937);let _=()=>(0,d.useContext)(b.Z),v=e=>{let{setFormConfigs:t,setAbi:n,setAddress:r}=e,[a,s]=(0,d.useState)(""),[i,o]=(0,d.useState)(""),{setAlert:c}=_(),u=e=>{let l;try{if(console.log("submitting"),!(l=JSON.parse(i))||!l.length)return c({type:"error",text:"Invalid ABI, make sure it is JSON array"})}catch(s){return console.log("contractABI err",s),c({type:"error",text:"Invalid ABI, make sure it is JSON array"})}console.log("abi",l);let o=[];for(let u of(n(l),r(a),l)){if("function"!==u.type)continue;let{inputs:d,name:h,stateMutability:x}=u;o.push({type:"Title",label:h}),d&&d.forEach(e=>{o.push(function(e,t){let{internalType:n,name:r,type:a}=t;switch(a){case"uint256":case"address":case"string":case"bytes":case"bytes32":return{type:"TextInput",name:"".concat(e,"-").concat(r),label:r,inputType:"text",helperText:"".concat(n," - ").concat(a)};case"address[]":case"bytes[]":case"uint256[]":return{type:"TextInput",name:"".concat(e,"-").concat(r),label:r,inputType:"text",helperText:"".concat(n," - ").concat(a," comma separated")};case"bool":return{type:"Checkbox",name:"".concat(e,"-").concat(r),label:r};default:if(a.match(/\[\]$/))return{type:"TextInput",name:"".concat(e,"-").concat(r),label:r,inputType:"text",helperText:"".concat(n," - ").concat(a," comma separated")};return{type:"Title",label:"unsupported input ".concat(e,"-").concat(r," type ").concat(n)}}}(h,e))}),"view"===x?o.push({type:"SubmitButton",label:"Read",stateMutability:x,name:h}):o.push({type:"SubmitButton",label:"Write",stateMutability:x,name:h})}console.log("formConfigs",o),t(o)};return(0,l.jsxs)(j.WS,{onSubmit:u,children:[(0,l.jsx)(g.Z,{sx:{width:1e3},children:(0,l.jsx)(j.bM,{fullWidth:!0,name:"contractAddress",label:"Contract Address",value:a,onChange:e=>s(e.target.value),validators:["required","matchRegexp:^0x[0-9a-fA-F]{40}$"],errorMessages:["This field is required","Invalid contract address"]})}),(0,l.jsx)("br",{}),(0,l.jsx)(g.Z,{children:(0,l.jsx)(j.bM,{fullWidth:!0,name:"contractAbi",label:"Contract ABI",value:i,onChange:e=>o(e.target.value),validators:["required"],errorMessages:["This field is required"],multiline:!0,rows:10})}),(0,l.jsx)(g.Z,{sx:{padding:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(p.Z,{type:"submit",disabled:!i,variant:"contained",children:"Update ABI"})})]})};var y=n(3283),I=n.n(y),C=n(85071),S=n(50480),M=n(33841),O=n(42662),Z=n(55819),N=n(10913),A=n(56815);class T extends j.nE{renderValidatorComponent(){let{isValid:e}=this.state,{errorMessages:t,name:n,label:r,onChange:a,validators:s,options:i,helperText:o,requiredError:c,error:u,validatorListener:d,value:h="",...x}=this.props,m=!e&&this.getErrorMessage()||o;return(0,l.jsx)(g.Z,{children:(0,l.jsxs)(N.Z,{fullWidth:!0,children:[(0,l.jsx)(M.Z,{sx:{color:e?"inherit":"error.main"},children:r}),(0,l.jsx)(O.Z,{value:h,name:n,label:r,onChange:a,error:!e||u,children:i.map(e=>(0,l.jsx)(Z.Z,{value:e.value,children:e.label},e.value))}),m&&(0,l.jsx)(A.Z,{sx:{color:e?"inherit":"error.main"},children:m})]})})}render(){return super.render()}}function B(e){let{formValues:t,abi:n,methodName:r}=e;for(let a of n)if(a.name===r){let{inputs:l}=a;if(!l)return[];return l.map(e=>{let n=t["".concat(r,"-").concat(e.name)];return e.type.match(/\[\]$/)?n.split(","):n})}return[]}(r=a||(a={}))[r.MAINNET=1]="MAINNET",r[r.ROPSTEN=3]="ROPSTEN",r[r.RINKEBY=4]="RINKEBY",r[r["G\xd6RLI"]=5]="G\xd6RLI",r[r.KOVAN=42]="KOVAN",r[r.OPTIMISM=10]="OPTIMISM",r[r.OPTIMISTIC_KOVAN=69]="OPTIMISTIC_KOVAN",r[r.BSC=56]="BSC",r[r.ARBITRUM_ONE=42161]="ARBITRUM_ONE",r[r.ARBITRUM_RINKEBY=421611]="ARBITRUM_RINKEBY",r[r.POLYGON=137]="POLYGON",r[r.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",r[r.CELO=42220]="CELO",r[r.CELO_ALFAJORES=44787]="CELO_ALFAJORES",r[r.GNOSIS=100]="GNOSIS",r[r.MOONBEAM=1284]="MOONBEAM";let E=e=>{let{abi:t,contractAddress:n,formConfigs:r,setFormConfigs:s}=e,[i,o]=(0,d.useState)({}),{account:c,library:x,chainId:m}=(0,h.Ge)(),{setAlert:f}=_(),b=async e=>{let l=e.nativeEvent.submitter.getAttribute("name");console.log("submitter method",l);let o=new(I())(x.provider),u=new o.eth.Contract(t,n),d=r.splice(0),h=d.find(e=>e.name===l);if(!h){console.error("cannot find formConfig for ".concat(l));return}let p=u.methods[l];if(["view","pure"].includes(h.stateMutability))try{let g=B({methodName:l,abi:t,formValues:i});console.log("read call params",g);let j=await p(...g).call();console.log("call res",j),h.result=j.toString()}catch(b){console.error(b),f({type:"error",title:"Call failed",text:"".concat(b.message||b.toString())})}else{console.log("calling write method",h),console.log("formValues",i);let _=B({methodName:l,abi:t,formValues:i});console.log("write call params",_);try{let v=await p(..._).estimateGas({from:c}),y=(await o.eth.getBlock("pending")).baseFeePerGas,C=function(e){switch(e){case a.MAINNET:return 2e9;case a.ARBITRUM_ONE:return 0;case a.POLYGON:return 3e10;case a.BSC:return 0}return 1e9}(m),S=C+y;console.log("debug",{chainId:m,baseFeePerGas:y,maxPriorityFeePerGas:C,maxFeePerGas:S,estimateGas:v}),await p(..._).send({from:c,gas:Math.floor(1.2*v),maxFeePerGas:S,maxPriorityFeePerGas:C})}catch(M){console.log("estimateGas failure",M),f({type:"error",title:"Call failed",text:"".concat(M.message||M.toString())})}}s(d)},v=r.map((e,t)=>(0,l.jsx)(g.Z,{sx:{margin:2,paddingBottom:2},children:function(e,t,n){let r=(e,r)=>{n({...t,[e]:r})},{type:a}=e;switch(a){case"FormGroup":{let{columns:s}=e,i=s.map(e=>{let{name:n,validators:a,errorMessages:s,xs:i=6,md:o=6,lg:c,...u}=e;return(0,l.jsx)(j.bM,{fullWidth:!0,...u,name:n,label:e.label,value:t[n],onChange:e=>r(n,e.target.value),validators:a,errorMessages:s})});return i}case"TextInput":{let{name:o,validators:c,errorMessages:d,inputType:h,xs:x=6,md:m=6,lg:f,...b}=e;return(0,l.jsx)(j.bM,{fullWidth:!0,...b,name:o,type:h,label:e.label,value:t[o],onChange:e=>r(o,e.target.value),validators:c,errorMessages:d})}case"Checkbox":{let{name:_,label:v}=e,y=(0,l.jsx)(C.Z,{inputProps:{"aria-label":v},name:_,checked:!!t[_],onChange:e=>r(_,!t[_])});return(0,l.jsx)(S.Z,{control:y,label:_})}case"Select":{let{name:I,label:M,options:O,validators:Z,errorMessages:N}=e;return(0,l.jsx)(T,{value:t[I],name:I,label:M,options:O,validators:Z,errorMessages:N,onChange:e=>r(I,e.target.value)})}case"Title":return(0,l.jsx)(u.Z,{variant:"h6",component:"h2",children:e.label});case"SubmitButton":let{variant:A,name:B,result:E}=e;return(0,l.jsxs)(g.Z,{children:[E&&(0,l.jsx)("pre",{children:E}),(0,l.jsx)(p.Z,{name:B,type:"submit",variant:A,children:e.label})]})}}(e,i,o)},e.type+e.label+t));return(0,l.jsx)(j.WS,{onSubmit:b,children:v})};function w(e,t){let r=n(42295);return r.addABI(e),r.decodeMethod(t)}let R=e=>{let{abi:t}=e,[n,r]=(0,d.useState)(""),[a,s]=(0,d.useState)(""),i=()=>{console.log("decodeInput(abi, callData)",w(t,n)),s(w(t,n))};return t&&0!==t.length?(0,l.jsxs)(j.WS,{onSubmit:i,children:[(0,l.jsx)("h2",{children:"Decode Contract Call Data"}),(0,l.jsx)(g.Z,{children:(0,l.jsx)(j.bM,{fullWidth:!0,name:"decodeCallData",label:"Decode Call Data",value:n,onChange:e=>r(e.target.value),validators:["required"],errorMessages:["This field is required"],multiline:!0,rows:3})}),(0,l.jsx)(g.Z,{children:(0,l.jsx)("pre",{children:a&&JSON.stringify(a,null,4)})}),(0,l.jsx)(g.Z,{sx:{padding:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(p.Z,{type:"submit",disabled:!n,variant:"contained",children:"Decode Call Data"})})]}):null};var L=n(23795),G=n(46562);let k=e=>{let t=new G.Q(e);return t.pollingInterval=1e3,t},P=e=>{let{children:t}=e;return(0,l.jsx)(h.Ht,{getLibrary:k,children:t})},H=()=>{let{chainId:e,account:t}=(0,h.Ge)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(g.Z,{children:["chainId: ",e]}),(0,l.jsxs)(g.Z,{children:["account: ",t]})]})};var F=n(87557);function W(){let[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)([]),[a,s]=(0,d.useState)([]);return(0,l.jsxs)(F.Z,{children:[(0,l.jsxs)(i(),{children:[(0,l.jsx)("title",{children:"Call any contract with ABI"}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)("main",{className:c().main,children:[(0,l.jsxs)(g.Z,{sx:{position:"absolute",top:12,right:12},children:[(0,l.jsx)(L.Z,{href:"./conversion",children:"Conversion tools"}),(0,l.jsx)(L.Z,{href:"./decode-tx",children:"Decode tx tool"})]}),(0,l.jsx)(u.Z,{variant:"h4",component:"h2",children:"Call any Solidity EVM contract with ABI"}),(0,l.jsxs)(u.Z,{variant:"body1",component:"h2",children:["Supports all EVM compatible chains ",(0,l.jsx)("br",{}),(0,l.jsx)("b",{children:"This tool is beta, use at your own risk"})]}),(0,l.jsx)(P,{children:(0,l.jsxs)(f,{children:[(0,l.jsx)(H,{}),(0,l.jsx)(v,{setAbi:s,setAddress:t,setFormConfigs:r}),(0,l.jsx)(E,{abi:a,contractAddress:e,formConfigs:n,setFormConfigs:r}),(0,l.jsx)(R,{abi:a})]})})]})]})}},33072:function(e){e.exports={alertBar:"alertBar_alertBar__7grMj"}},31502:function(e){e.exports={main:"Home_main__nLjiQ",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",center:"Home_center__4BFgC",logo:"Home_logo__27_tb",thirteen:"Home_thirteen__cMI_k",rotate:"Home_rotate____XsI",content:"Home_content__Zy02X",vercelLogo:"Home_vercelLogo__dtSk9"}},88677:function(){},62808:function(){},890:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},27790:function(){},52361:function(){},94616:function(){},6567:function(){},55896:function(){},87500:function(){}},function(e){e.O(0,[482,714,159,8,759,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);